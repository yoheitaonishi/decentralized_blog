<!DOCTYPE html>
<html>
<head>
  <title>DALog</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="list" href="list.html">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="./app.js"></script>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <a  id="blog_list_btn" class="navbar-brand btn-list" href="#">DALog</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavDropdown">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a id="blog_list_btn" class="nav-link btn-list" href="#">ブログ一覧<span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a id="blog_create_btn" class="nav-link btn-list" href="#">ブログ作成</a>
      </li>
      <li class="nav-item">
        <a id="how_to_use_btn" class="nav-link btn-list" href="#">使い方</a>
      </li>
    </ul>
  </div>
  </nav>

  <div class="container">


  <!-- ブログ一覧 -->
  <div id="blog_list">
  <h2>ブログ一覧</h2>
  <table class="table">
  <thead class="thead-light">
    <tr>
      <th>ID</th>
      <th>作成者</th>
      <th>タイトル</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
  </tbody>
  </table>
  </div>

  <template id="blog_row">
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td>
      <form action="" onsubmit="return false;">
        <input type="button" id="" onClick="readBlog(this);" class="read_button btn btn-outline-primary" value="ブログを読む">
      </form>
      </td>
    </tr>
  </template>

  <!-- /ブログ一覧 -->

  <!-- 個別ブログ表示 -->
  <div id="display_blog">
  <span></span>
  <!-- <h2 id="blogIdElement"></h2> -->
  <h2 id="titleElement"></h2>
  <span class="writer_label">作成者 </span>
  <span class="writer_label" id="writerElement"></span>
  <br><br>
  <span id="bodyElement"></span>
  </div>
  <!-- /ブログ表示 -->

  <!-- ブログ作成 -->
  <div id="blog_create">
  <h2>ブログ作成</h2>
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text" id="basic-addon1">タイトル</span>
    </div>
    <input type="text" class="form-control" aria-describedby="basic-addon1" id="title" placeholder="今日の出来事">
  </div>
  <div class="input-group">
    <div class="input-group-prepend">
      <span class="input-group-text">本文</span>
    </div>
    <textarea class="form-control body_input"  id="body" placeholder="今日は非中央集権的な1日だった。"></textarea>
  </div>
  <br><br>
  <button id="send" class="btn btn-dark" onclick="App.sendBlog()">公開</button>
  <br><br>
  <span id="status"></span>
  <h2 id="titleCreateElement"></h2>
  <span id="bodyCreateElement"></span>
  <br><br>
  </div>
  <!-- /ブログ作成 -->

  <!-- 使い方 -->
  <div id="how_to_use">
  <h2>使い方</h2>
  <p>
    ブラウザの拡張機能であるMetaMaskにログインした状態でないとDALog(Decentralized Application bLog)を使うことができません。</br>
    ここではMetaMaskのインストール、ログインまでを解説します！</br>
    ※ ログインまでの作業時間の目安は5分程度です。
  </p>
  </br></br>
  <h3>MetaMaskのインストールとログイン</h3>  
  <p>
    Google Chromeでのインストール方法です。</br>
    まず検索窓で「MetaMask」と検索して、一番上にChrome ウェブストアが表示されます。</br>
    </br></br>
    <img class="img-fluid img-thumbnail" src="app/images/MetaMask_検索結果.png">
    </br></br>
    </br>クリックして、拡張機能に追加を押します。</br>
    </br></br>
    <img class="img-fluid img-thumbnail" src="app/images/MetaMask_追加.png">
    </br></br>
    <p>追加したら拡張機能をクリックして、「Accept」を押します。</p>
    </br></br>
    <img class="img-fluid img-thumbnail" src="app/images/MetaMask_拡張機能.png">
    </br></br>
    <p>最後にパスワードを設定して、ログインが完了します。</p>
    </br></br>
    <img class="img-fluid img-thumbnail" src="app/images/MetaMask_ログイン.png">
    </br></br>
    <p>
      DALogでブログを作成する場合には、Gasが発生するのでMetaMaskのアドレスでETHを送金しておきます。</br>
      閲覧するのみですと、Gasは発生しません。
    </p>
    <p><a href="https://coin-textbook.com/metamask/">仮想通貨の教科書</a>にも詳しく載っているので参考にしてください。</p>
    </br></br>
  </p>
  </div>
  <!-- /使い方 -->
  </div>

<footer id="footer" class="footer bg-primary">
  <div class="container">
    <span class="text-muted">Place sticky footer content here.</span>
  </div>
</footer>
</body>
</html>

<script>
function readBlog(blog){
  App.refreshBlogContent(blog.id);
  $('#blog_list').hide();
  $('#blog_create').hide();
  $('#how_to_use').hide();
  $('#how_to_use').hide();
  $('#footer').hide();
  $('#display_blog').show();
}
</script>


